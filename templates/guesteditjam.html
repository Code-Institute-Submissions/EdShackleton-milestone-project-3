{% extends 'base.html'%} {% block content %}
<div class="blank-background">
    <h2 class="page-title">Edit Jam</h2>
    <div class="row">
        <form action="{{ url_for('edit_jam', jam_id=jam._id) }}" method="POST" class="col s12">
            <div id="hidden-jam-details">
                <input id="jam_owner" name="jam_owner" type="text" class="validate" value="{{jam.jam_owner}}">
                <input id="jam_title" name="jam_title" type="text" class="validate" value="{{jam.jam_title}}">
                <input id="genre" name="genre" type="text" class="validate" value="{{jam.genre}}">
                <input id="date_of_jam" name="date_of_jam" type="text" class="datepicker">
                <input id="jam_location" name="jam_location" type="text" class="validate" value="{{jam.jam_location}}">
                <input id="jam_notes" name="jam_notes" type="text" class="validate" value="{{jam.jam_notes}}">
                <input id="jam_owner" name="jam_owner" type="text" class="validate" value="{{jam.jam_owner}}">
                <select name="jam_county">
                {% if jam.jam_county %}
                <option value="{{jam.jam_county}}">{{jam.jam_county}}</option>
                {% else %}
                <option value="" disabled selected>County</option>
                {% endif %}
                </select>
            </div>
            <div class="row">
                <div class="input-field col s12 jam-title">
                    <h1>{{jam.jam_title}}</h1>
                </div>
            </div>
            <div class="row">
                <span class="input-field col s6">
                    <p>Genre - {{jam.genre}}</p>
                </span>
                <span class="input-field col s6">
                    <p>Date - {{jam.date_of_jam}}</p>
                </span>
            </div>
            <div class="row">
                <span class="input-field col s6">
                    <p>Location - {{jam.jam_location}}</p>
                </span>
                <span class="input-field col s6">
                    <p>County - {{jam.jam_county}}</p>
                </span>
            </div>
            <br>
            <hr>
            <br>
            <div class="row" id="members-section">
                <div class="row" id="member-1-details">
                    <span class="input-field col s6">
                        <select name="member_instrument_1" value="{{jam.member_instrument_1}}">
                            <option value="{{jam.member_instrument_1}}">{{jam.member_instrument_1}}</option>
                            {% for instrument in instruments %}
                            <option value="{{instrument.instrument_name}}">{{instrument.instrument_name}}</option>
                            {% endfor %}
                        </select>
                    </span>
                    <span class="input-field col s6">
                        <input id="jam_members" name="jam_member_1" value ="{{jam.jam_member_1}}" type="text">
                    </span>
                </div>
                {% if jam.member_instrument_2 %}
                <div class="row" id="member-2-details" style="display:block;">
                {% else %}
                <div class="row" id="member-2-details">
                {% endif %}
                    <span class="input-field col s6">
                        <select name="member_instrument_2">
                            {% if jam.member_instrument_2 %}
                            <option value="{{jam.member_instrument_2}}">{{jam.member_instrument_2}}</option>
                            {% else %}
                            <option value="" disabled selected>Instrument</option>
                            {% endif %}
                            {% for instrument in instruments_2 %}
                            <option value="{{instrument.instrument_name}}">{{instrument.instrument_name}}</option>
                            {% endfor %}
                        </select>
                    </span>
                    <span class="input-field col s6">
                        <input id="jam_members" name="jam_member_2" value ="{{jam.jam_member_2}}" type="text">
                    </span>
                    </div>
                {% if jam.member_instrument_3 %}
                <div class="row" id="member-3-details" style="display:block;">
                {% else %}
                <div class="row" id="member-3-details">
                {% endif %}
                    <span class="input-field col s6">
                        <select name="member_instrument_3">
                            {% if jam.member_instrument_3 %}
                            <option value="{{jam.member_instrument_3}}">{{jam.member_instrument_3}}</option>
                            {% else %}
                            <option value="" disabled selected>Instrument</option>
                            {% endif %}
                            {% for instrument in instruments_3 %}
                            <option value="{{instrument.instrument_name}}">{{instrument.instrument_name}}</option>
                            {% endfor %}
                        </select>
                    </span>
                    <span class="input-field col s6">
                        <input id="jam_members" name="jam_member_3" value ="{{jam.jam_member_3}}" type="text">
                    </span>
                </div>
                {% if jam.member_instrument_4 %}
                <div class="row" id="member-4-details" style="display:block;">
                {% else %}
                <div class="row" id="member-4-details">
                {% endif %}
                    <span class="input-field col s6">
                        <select name="member_instrument_4">
                            {% if jam.member_instrument_4 %}
                            <option value="{{jam.member_instrument_4}}">{{jam.member_instrument_4}}</option>
                            {% else %}
                            <option value="" disabled selected>Instrument</option>
                            {% endif %}
                            {% for instrument in instruments_4 %}
                            <option value="{{instrument.instrument_name}}">{{instrument.instrument_name}}</option>
                            {% endfor %}
                        </select>
                    </span>
                    <span class="input-field col s6">
                        <input id="jam_members" name="jam_member_4" value ="{{jam.jam_member_4}}" type="text">
                    </span>
                </div>
                {% if jam.member_instrument_5 %}
                <div class="row" id="member-5-details"  style="display:block;">
                {% else %}
                <div class="row" id="member-5-details">
                {% endif %}
                    <span class="input-field col s6">
                        <select name="member_instrument_5">
                            {% if jam.member_instrument_5 %}
                            <option value="{{jam.member_instrument_5}}">{{jam.member_instrument_5}}</option>
                            {% else %}
                            <option value="" disabled selected>Instrument</option>
                            {% endif %}
                            {% for instrument in instruments_5 %}
                            <option value="{{instrument.instrument_name}}">{{instrument.instrument_name}}</option>
                            {% endfor %}
                        </select>
                    </span>
                    <span class="input-field col s6">
                        <input id="jam_members" name="jam_member_5" value ="{{jam.jam_member_5}}" type="text">
                    </span>
                </div>
                {% if jam.member_instrument_6 %}
                <div class="row" id="member-6-details" style="display:block;">
                {% else %}
                <div class="row" id="member-6-details">
                {% endif %}
                    <span class="input-field col s6">
                        <select name="member_instrument_6">
                            {% if jam.member_instrument_6 %}
                            <option value="{{jam.member_instrument_6}}">{{jam.member_instrument_6}}</option>
                            {% else %}
                            <option value="" disabled selected>Instrument</option>
                            {% endif %}
                            {% for instrument in instruments_6 %}
                            <option value="{{instrument.instrument_name}}">{{instrument.instrument_name}}</option>
                            {% endfor %}
                        </select>
                    </span>
                    <span class="input-field col s6">
                        <input id="jam_members" name="jam_member_6" value ="{{jam.jam_member_6}}" type="text">
                    </span>
                </div>
                {% if jam.member_instrument_7 %}
                <div class="row" id="member-7-details" style="display:block;">
                {% else %}
                <div class="row" id="member-7-details">
                {% endif %}
                    <span class="input-field col s6">
                        <select name="member_instrument_7">
                            {% if jam.member_instrument_7 %}
                            <option value="{{jam.member_instrument_7}}">{{jam.member_instrument_7}}</option>
                            {% else %}
                            <option value="" disabled selected>Instrument</option>
                            {% endif %}
                            {% for instrument in instruments_7 %}
                            <option value="{{instrument.instrument_name}}">{{instrument.instrument_name}}</option>
                            {% endfor %}
                        </select>
                    </span>
                    <span class="input-field col s6">
                        <input id="jam_members" name="jam_member_7" value ="{{jam.jam_member_7}}" type="text">
                    </span>
                </div>
                {% if jam.member_instrument_8 %}
                <div class="row" id="member-8-details" style="display:block;">
                {% else %}
                <div class="row" id="member-8-details">
                {% endif %}
                    <span class="input-field col s6">
                        <select name="member_instrument_8">
                            {% if jam.member_instrument_8 %}
                            <option value="{{jam.member_instrument_8}}">{{jam.member_instrument_8}}</option>
                            {% else %}
                            <option value="" disabled selected>Instrument</option>
                            {% endif %}
                            {% for instrument in instruments_8 %}
                            <option value="{{instrument.instrument_name}}">{{instrument.instrument_name}}</option>
                            {% endfor %}
                        </select>
                    </span>
                    <span class="input-field col s6">
                        <input id="jam_members" name="jam_member_8" value ="{{jam.jam_member_8}}" type="text">
                    </span>
                </div>
                {% if jam.member_instrument_9 %}
                <div class="row" id="member-9-details" style="display:block;">
                {% else %}
                <div class="row" id="member-9-details">
                {% endif %}
                    <span class="input-field col s6">
                        <select name="member_instrument_9">
                            {% if jam.member_instrument_9 %}
                            <option value="{{jam.member_instrument_9}}">{{jam.member_instrument_9}}</option>
                            {% else %}
                            <option value="" disabled selected>Instrument</option>
                            {% endif %}
                            {% for instrument in instruments_9 %}
                            <option value="{{instrument.instrument_name}}">{{instrument.instrument_name}}</option>
                            {% endfor %}
                        </select>
                    </span>
                    <span class="input-field col s6">
                        <input id="jam_members" name="jam_member_9" value ="{{jam.jam_member_9}}" type="text">
                    </span>
                </div>
                {% if jam.member_instrument_10 %}
                <div class="row" id="member-10-details" style="display:block;">
                {% else %}
                <div class="row" id="member-10-details">
                {% endif %}
                    <span class="input-field col s6">
                        <select name="member_instrument_10">
                            {% if jam.member_instrument_10 %}
                            <option value="{{jam.member_instrument_10}}">{{jam.member_instrument_10}}</option>
                            {% else %}
                            <option value="" disabled selected>Instrument</option>
                            {% endif %}
                            {% for instrument in instruments_10 %}
                            <option value="{{instrument.instrument_name}}">{{instrument.instrument_name}}</option>
                            {% endfor %}
                        </select>
                    </span>
                    <span class="input-field col s6">
                        <input id="jam_members" name="jam_member_10" value ="{{jam.jam_member_10}}" type="text">
                    </span>
                </div>
            </div>
            <div class="row">
                <button class="btn waves-effect waves-light" type="submit">Done!</button>
            </div>
        </form>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript">
    $(document).ready(function() {
        date_of_jam = Date.parse('{{jam.date_of_jam}}');
        $('#date_of_jam').pickadate('picker').set('select', date_of_jam, { format: 'dd/mm/yyyy' }).trigger('change');
    });
</script>

{% endblock %}
