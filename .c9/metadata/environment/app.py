{"changed":true,"filter":false,"title":"app.py","tooltip":"/app.py","value":"import os\nimport bcrypt\nfrom flask import Flask, render_template, redirect, request, url_for, session\nfrom flask_pymongo import PyMongo\nfrom bson.objectid import ObjectId \n\n\n\napp = Flask(__name__)\napp.config[\"MONGO_DBNAME\"] = 'Jamtree'\napp.config[\"MONGO_URI\"] = 'mongodb+srv://root:Welcome3@myfirstcluster-8h2g0.mongodb.net/Jamtree?retryWrites=true&w=majority'\n\nmongo = PyMongo(app)\n\n#CRUD\n\n@app.route('/get_jams')\ndef get_jams():\n    user_logged_in = 'username' in session\n    if user_logged_in:\n        return render_template(\"jams.html\",\n        jams=mongo.db.jam_or_event.find(),\n        counties=mongo.db.counties.find(),\n        genres=mongo.db.genres.find(),\n        username=session['username'])\n    return render_template(\"jams.html\",\n        jams=mongo.db.jam_or_event.find(),\n        counties=mongo.db.counties.find(),\n        genres=mongo.db.genres.find())\n\n@app.route('/get_users')\ndef get_users():\n    user_logged_in = 'username' in session\n    if user_logged_in:\n        return render_template(\"users.html\",\n        users=mongo.db.users.find(),\n        counties=mongo.db.counties.find(),\n        username=session['username'])\n    return render_template(\"users.html\",\n        users=mongo.db.users.find(),\n        counties=mongo.db.counties.find())\n\n@app.route('/add_jam')\ndef add_jam():\n    return render_template('addjam.html',\n    instruments=mongo.db.instruments.find(),\n    counties=mongo.db.counties.find(),\n    username=session['username'])\n\n@app.route('/insert_jam', methods=['POST'])\ndef insert_jam():\n    jams =  mongo.db.jam_or_event\n    jams.insert_one(request.form.to_dict())\n    \n    print(request.form)\n    return redirect(url_for('get_jams'))\n    \n@app.route('/delete_jam/<jam_id>')\ndef delete_jam(jam_id):\n    mongo.db.jam_or_event.remove({'_id': ObjectId(jam_id)})\n    return redirect(url_for('get_jams'))\n\n@app.route('/edit_jam/<jam_id>')\ndef edit_jam(jam_id):\n    the_jam =  mongo.db.jam_or_event.find_one({\"_id\": ObjectId(jam_id)})\n    return render_template('editjam.html', jam=the_jam)\n\n@app.route('/update_jam/<jam_id>', methods=[\"POST\"])\ndef update_jam(jam_id):\n    user_logged_in = 'username' in session\n    if user_logged_in:\n        jams = mongo.db.jam_or_event\n        jams.update( {'_id': ObjectId(jam_id)},\n        {\n            'jam_title':request.form.get('jam_title'),\n            'genre':request.form.get('genre'),\n            'date_of_jam': request.form.get('date_of_jam'),\n            'jam_location': request.form.get('jam_location'),\n            'jam_postcode':request.form.get('jam_postcode'),\n            'jam_members':request.form.get('jam_members'),\n            'jam_instruments':request.form.get('jam_instruments'),\n            'jam_notes':request.form.get('jam_notes'),\n        })\n        return redirect(url_for('get_jams'))\n    \n\n#search options\n\n#login system\n\nSALT = \"asdfljheriun\"\n\n@app.route('/go_to_login')\ndef go_to_login():\n    return render_template('login.html')\n\n@app.route('/')\ndef index():\n    users = mongo.db.users\n    if 'username' in session:\n        return render_template('welcome.html', username=session['username'])\n\n    return render_template('jams.html')\n\n@app.route('/login', methods=['POST'])\ndef login():\n    users = mongo.db.users\n    hashpw =request.form['password'] + SALT\n    login_user = users.find_one({'username' : request.form['username']})\n\n    if login_user:\n        if hashpw == login_user['password']:\n            session['username'] = request.form['username']\n            return redirect(url_for('index'))\n\n    return render_template('re-login.html')\n\n@app.route('/logout')\ndef logout():\n    session.clear()\n    return render_template('logout.html')\n\n@app.route('/register', methods=['POST', 'GET'])\ndef register():\n    if request.method == 'POST':\n        users = mongo.db.users\n        existing_user = users.find_one({'username' : request.form['username']})\n\n        if existing_user is None:\n            hashpass = (request.form['password'] + SALT)\n            users.insert({'username' : request.form['username'], \n            'password' : hashpass, \n            'user_county' : request.form['user_county'],\n            'user_instrument' : request.form['user_instrument']})\n            session['username'] = request.form['username']\n            return redirect(url_for('index'))\n        \n        return render_template('re-register.html',\n    instruments=mongo.db.instruments.find())\n\n    return render_template('register.html',\n    instruments=mongo.db.instruments.find(),\n    counties=mongo.db.counties.find())\n\nif __name__ == '__main__':\n    app.secret_key = 'mysecret'\n    app.run(host=os.environ.get('IP'),\n            port=int(8080),\n            debug=True)\n","undoManager":{"mark":106,"position":100,"stack":[[{"start":{"row":44,"column":43},"end":{"row":45,"column":0},"action":"insert","lines":["",""],"id":1676},{"start":{"row":45,"column":0},"end":{"row":45,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":45,"column":4},"end":{"row":47,"column":54},"action":"insert","lines":["jams.update( {'_id': ObjectId(jam_id)},","        {","            'jam_title':request.form.get('jam_title'),"],"id":1677}],[{"start":{"row":47,"column":21},"end":{"row":47,"column":22},"action":"remove","lines":["e"],"id":1678},{"start":{"row":47,"column":20},"end":{"row":47,"column":21},"action":"remove","lines":["l"]},{"start":{"row":47,"column":19},"end":{"row":47,"column":20},"action":"remove","lines":["t"]},{"start":{"row":47,"column":18},"end":{"row":47,"column":19},"action":"remove","lines":["i"]},{"start":{"row":47,"column":17},"end":{"row":47,"column":18},"action":"remove","lines":["t"]}],[{"start":{"row":47,"column":17},"end":{"row":47,"column":18},"action":"insert","lines":["c"],"id":1679},{"start":{"row":47,"column":18},"end":{"row":47,"column":19},"action":"insert","lines":["r"]},{"start":{"row":47,"column":19},"end":{"row":47,"column":20},"action":"insert","lines":["e"]},{"start":{"row":47,"column":20},"end":{"row":47,"column":21},"action":"insert","lines":["a"]},{"start":{"row":47,"column":21},"end":{"row":47,"column":22},"action":"insert","lines":["t"]},{"start":{"row":47,"column":22},"end":{"row":47,"column":23},"action":"insert","lines":["o"]},{"start":{"row":47,"column":23},"end":{"row":47,"column":24},"action":"insert","lines":["r"]}],[{"start":{"row":47,"column":26},"end":{"row":47,"column":55},"action":"remove","lines":["request.form.get('jam_title')"],"id":1680},{"start":{"row":47,"column":26},"end":{"row":47,"column":27},"action":"insert","lines":["s"]},{"start":{"row":47,"column":27},"end":{"row":47,"column":28},"action":"insert","lines":["e"]},{"start":{"row":47,"column":28},"end":{"row":47,"column":29},"action":"insert","lines":["s"]},{"start":{"row":47,"column":29},"end":{"row":47,"column":30},"action":"insert","lines":["s"]}],[{"start":{"row":47,"column":26},"end":{"row":47,"column":30},"action":"remove","lines":["sess"],"id":1681},{"start":{"row":47,"column":26},"end":{"row":47,"column":33},"action":"insert","lines":["session"]}],[{"start":{"row":47,"column":33},"end":{"row":47,"column":34},"action":"insert","lines":["["],"id":1682}],[{"start":{"row":47,"column":34},"end":{"row":47,"column":36},"action":"insert","lines":["''"],"id":1683}],[{"start":{"row":47,"column":35},"end":{"row":47,"column":36},"action":"insert","lines":["u"],"id":1684},{"start":{"row":47,"column":36},"end":{"row":47,"column":37},"action":"insert","lines":["s"]},{"start":{"row":47,"column":37},"end":{"row":47,"column":38},"action":"insert","lines":["e"]},{"start":{"row":47,"column":38},"end":{"row":47,"column":39},"action":"insert","lines":["r"]},{"start":{"row":47,"column":39},"end":{"row":47,"column":40},"action":"insert","lines":["n"]},{"start":{"row":47,"column":40},"end":{"row":47,"column":41},"action":"insert","lines":["a"]},{"start":{"row":47,"column":41},"end":{"row":47,"column":42},"action":"insert","lines":["m"]},{"start":{"row":47,"column":42},"end":{"row":47,"column":43},"action":"insert","lines":["e"]}],[{"start":{"row":47,"column":44},"end":{"row":47,"column":45},"action":"insert","lines":["]"],"id":1685}],[{"start":{"row":47,"column":45},"end":{"row":47,"column":46},"action":"remove","lines":[","],"id":1686}],[{"start":{"row":47,"column":45},"end":{"row":47,"column":46},"action":"insert","lines":["}"],"id":1687}],[{"start":{"row":47,"column":8},"end":{"row":47,"column":12},"action":"remove","lines":["    "],"id":1688},{"start":{"row":47,"column":4},"end":{"row":47,"column":8},"action":"remove","lines":["    "]},{"start":{"row":47,"column":0},"end":{"row":47,"column":4},"action":"remove","lines":["    "]},{"start":{"row":46,"column":9},"end":{"row":47,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":46,"column":43},"end":{"row":46,"column":44},"action":"insert","lines":[")"],"id":1689}],[{"start":{"row":45,"column":16},"end":{"row":45,"column":43},"action":"remove","lines":[" {'_id': ObjectId(jam_id)},"],"id":1690}],[{"start":{"row":46,"column":4},"end":{"row":46,"column":8},"action":"remove","lines":["    "],"id":1691},{"start":{"row":46,"column":0},"end":{"row":46,"column":4},"action":"remove","lines":["    "]},{"start":{"row":45,"column":16},"end":{"row":46,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":45,"column":4},"end":{"row":45,"column":52},"action":"remove","lines":["jams.update({'jam_creator':session['username']})"],"id":1692},{"start":{"row":45,"column":0},"end":{"row":45,"column":4},"action":"remove","lines":["    "]},{"start":{"row":44,"column":43},"end":{"row":45,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":44,"column":42},"end":{"row":44,"column":43},"action":"insert","lines":[","],"id":1693}],[{"start":{"row":44,"column":43},"end":{"row":44,"column":44},"action":"insert","lines":[" "],"id":1694}],[{"start":{"row":44,"column":44},"end":{"row":44,"column":46},"action":"insert","lines":["''"],"id":1695}],[{"start":{"row":44,"column":45},"end":{"row":44,"column":46},"action":"insert","lines":["j"],"id":1696},{"start":{"row":44,"column":46},"end":{"row":44,"column":47},"action":"insert","lines":["a"]},{"start":{"row":44,"column":47},"end":{"row":44,"column":48},"action":"insert","lines":["m"]},{"start":{"row":44,"column":48},"end":{"row":44,"column":49},"action":"insert","lines":["_"]},{"start":{"row":44,"column":49},"end":{"row":44,"column":50},"action":"insert","lines":["c"]},{"start":{"row":44,"column":50},"end":{"row":44,"column":51},"action":"insert","lines":["r"]},{"start":{"row":44,"column":51},"end":{"row":44,"column":52},"action":"insert","lines":["e"]},{"start":{"row":44,"column":52},"end":{"row":44,"column":53},"action":"insert","lines":["a"]},{"start":{"row":44,"column":53},"end":{"row":44,"column":54},"action":"insert","lines":["t"]},{"start":{"row":44,"column":54},"end":{"row":44,"column":55},"action":"insert","lines":["o"]},{"start":{"row":44,"column":55},"end":{"row":44,"column":56},"action":"insert","lines":["r"]}],[{"start":{"row":44,"column":57},"end":{"row":44,"column":58},"action":"insert","lines":[":"],"id":1697}],[{"start":{"row":44,"column":58},"end":{"row":44,"column":59},"action":"insert","lines":[" "],"id":1698}],[{"start":{"row":44,"column":58},"end":{"row":44,"column":59},"action":"remove","lines":[" "],"id":1699}],[{"start":{"row":44,"column":58},"end":{"row":44,"column":59},"action":"insert","lines":[" "],"id":1700},{"start":{"row":44,"column":59},"end":{"row":44,"column":60},"action":"insert","lines":["s"]},{"start":{"row":44,"column":60},"end":{"row":44,"column":61},"action":"insert","lines":["e"]},{"start":{"row":44,"column":61},"end":{"row":44,"column":62},"action":"insert","lines":["s"]},{"start":{"row":44,"column":62},"end":{"row":44,"column":63},"action":"insert","lines":["s"]},{"start":{"row":44,"column":63},"end":{"row":44,"column":64},"action":"insert","lines":["i"]},{"start":{"row":44,"column":64},"end":{"row":44,"column":65},"action":"insert","lines":["o"]},{"start":{"row":44,"column":65},"end":{"row":44,"column":66},"action":"insert","lines":["n"]}],[{"start":{"row":44,"column":57},"end":{"row":44,"column":58},"action":"insert","lines":[" "],"id":1701}],[{"start":{"row":44,"column":67},"end":{"row":44,"column":69},"action":"insert","lines":["[]"],"id":1702}],[{"start":{"row":44,"column":68},"end":{"row":44,"column":70},"action":"insert","lines":["''"],"id":1703}],[{"start":{"row":44,"column":69},"end":{"row":44,"column":70},"action":"insert","lines":["u"],"id":1704},{"start":{"row":44,"column":70},"end":{"row":44,"column":71},"action":"insert","lines":["s"]},{"start":{"row":44,"column":71},"end":{"row":44,"column":72},"action":"insert","lines":["e"]},{"start":{"row":44,"column":72},"end":{"row":44,"column":73},"action":"insert","lines":["r"]},{"start":{"row":44,"column":73},"end":{"row":44,"column":74},"action":"insert","lines":["n"]},{"start":{"row":44,"column":74},"end":{"row":44,"column":75},"action":"insert","lines":["a"]},{"start":{"row":44,"column":75},"end":{"row":44,"column":76},"action":"insert","lines":["m"]},{"start":{"row":44,"column":76},"end":{"row":44,"column":77},"action":"insert","lines":["e"]}],[{"start":{"row":44,"column":42},"end":{"row":44,"column":79},"action":"remove","lines":[", 'jam_creator' : session['username']"],"id":1705}],[{"start":{"row":77,"column":0},"end":{"row":78,"column":0},"action":"insert","lines":["",""],"id":1706},{"start":{"row":78,"column":0},"end":{"row":78,"column":1},"action":"insert","lines":["#"]}],[{"start":{"row":78,"column":1},"end":{"row":78,"column":2},"action":"insert","lines":["s"],"id":1707},{"start":{"row":78,"column":2},"end":{"row":78,"column":3},"action":"insert","lines":["e"]},{"start":{"row":78,"column":3},"end":{"row":78,"column":4},"action":"insert","lines":["a"]},{"start":{"row":78,"column":4},"end":{"row":78,"column":5},"action":"insert","lines":["r"]},{"start":{"row":78,"column":5},"end":{"row":78,"column":6},"action":"insert","lines":["c"]},{"start":{"row":78,"column":6},"end":{"row":78,"column":7},"action":"insert","lines":["h"]}],[{"start":{"row":78,"column":7},"end":{"row":78,"column":8},"action":"insert","lines":[" "],"id":1708},{"start":{"row":78,"column":8},"end":{"row":78,"column":9},"action":"insert","lines":["o"]},{"start":{"row":78,"column":9},"end":{"row":78,"column":10},"action":"insert","lines":["p"]},{"start":{"row":78,"column":10},"end":{"row":78,"column":11},"action":"insert","lines":["t"]},{"start":{"row":78,"column":11},"end":{"row":78,"column":12},"action":"insert","lines":["i"]},{"start":{"row":78,"column":12},"end":{"row":78,"column":13},"action":"insert","lines":["o"]},{"start":{"row":78,"column":13},"end":{"row":78,"column":14},"action":"insert","lines":["n"]},{"start":{"row":78,"column":14},"end":{"row":78,"column":15},"action":"insert","lines":["s"]}],[{"start":{"row":78,"column":15},"end":{"row":79,"column":0},"action":"insert","lines":["",""],"id":1709},{"start":{"row":79,"column":0},"end":{"row":80,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":80,"column":0},"end":{"row":80,"column":26},"action":"insert","lines":["@app.route('/go_to_login')"],"id":1710}],[{"start":{"row":80,"column":13},"end":{"row":80,"column":24},"action":"remove","lines":["go_to_login"],"id":1711},{"start":{"row":80,"column":13},"end":{"row":80,"column":14},"action":"insert","lines":["s"]},{"start":{"row":80,"column":14},"end":{"row":80,"column":15},"action":"insert","lines":["e"]},{"start":{"row":80,"column":15},"end":{"row":80,"column":16},"action":"insert","lines":["a"]},{"start":{"row":80,"column":16},"end":{"row":80,"column":17},"action":"insert","lines":["r"]},{"start":{"row":80,"column":17},"end":{"row":80,"column":18},"action":"insert","lines":["c"]},{"start":{"row":80,"column":18},"end":{"row":80,"column":19},"action":"insert","lines":["h"]},{"start":{"row":80,"column":19},"end":{"row":80,"column":20},"action":"insert","lines":["_"]},{"start":{"row":80,"column":20},"end":{"row":80,"column":21},"action":"insert","lines":["b"]},{"start":{"row":80,"column":21},"end":{"row":80,"column":22},"action":"insert","lines":["y"]},{"start":{"row":80,"column":22},"end":{"row":80,"column":23},"action":"insert","lines":["_"]}],[{"start":{"row":80,"column":23},"end":{"row":80,"column":24},"action":"insert","lines":["g"],"id":1712},{"start":{"row":80,"column":24},"end":{"row":80,"column":25},"action":"insert","lines":["e"]},{"start":{"row":80,"column":25},"end":{"row":80,"column":26},"action":"insert","lines":["n"]},{"start":{"row":80,"column":26},"end":{"row":80,"column":27},"action":"insert","lines":["e"]},{"start":{"row":80,"column":27},"end":{"row":80,"column":28},"action":"insert","lines":["r"]},{"start":{"row":80,"column":28},"end":{"row":80,"column":29},"action":"insert","lines":["e"]}],[{"start":{"row":80,"column":28},"end":{"row":80,"column":29},"action":"remove","lines":["e"],"id":1713},{"start":{"row":80,"column":27},"end":{"row":80,"column":28},"action":"remove","lines":["r"]},{"start":{"row":80,"column":26},"end":{"row":80,"column":27},"action":"remove","lines":["e"]}],[{"start":{"row":80,"column":26},"end":{"row":80,"column":27},"action":"insert","lines":["r"],"id":1714},{"start":{"row":80,"column":27},"end":{"row":80,"column":28},"action":"insert","lines":["e"]}],[{"start":{"row":80,"column":30},"end":{"row":81,"column":0},"action":"insert","lines":["",""],"id":1715},{"start":{"row":81,"column":0},"end":{"row":81,"column":1},"action":"insert","lines":["d"]},{"start":{"row":81,"column":1},"end":{"row":81,"column":2},"action":"insert","lines":["e"]},{"start":{"row":81,"column":2},"end":{"row":81,"column":3},"action":"insert","lines":["f"]}],[{"start":{"row":81,"column":3},"end":{"row":81,"column":4},"action":"insert","lines":[" "],"id":1716},{"start":{"row":81,"column":4},"end":{"row":81,"column":5},"action":"insert","lines":["s"]},{"start":{"row":81,"column":5},"end":{"row":81,"column":6},"action":"insert","lines":["e"]},{"start":{"row":81,"column":6},"end":{"row":81,"column":7},"action":"insert","lines":["a"]}],[{"start":{"row":81,"column":4},"end":{"row":81,"column":7},"action":"remove","lines":["sea"],"id":1717},{"start":{"row":81,"column":4},"end":{"row":81,"column":19},"action":"insert","lines":["search_by_genre"]}],[{"start":{"row":81,"column":19},"end":{"row":81,"column":20},"action":"insert","lines":[":"],"id":1718}],[{"start":{"row":81,"column":20},"end":{"row":82,"column":0},"action":"insert","lines":["",""],"id":1719},{"start":{"row":82,"column":0},"end":{"row":82,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":80,"column":0},"end":{"row":82,"column":4},"action":"remove","lines":["@app.route('/search_by_genre')","def search_by_genre:","    "],"id":1720},{"start":{"row":79,"column":0},"end":{"row":80,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":78,"column":15},"end":{"row":79,"column":0},"action":"remove","lines":["",""],"id":1721}],[{"start":{"row":23,"column":8},"end":{"row":24,"column":0},"action":"insert","lines":["",""],"id":1722},{"start":{"row":24,"column":0},"end":{"row":24,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":23,"column":8},"end":{"row":23,"column":9},"action":"insert","lines":["g"],"id":1723},{"start":{"row":23,"column":9},"end":{"row":23,"column":10},"action":"insert","lines":["e"]},{"start":{"row":23,"column":10},"end":{"row":23,"column":11},"action":"insert","lines":["n"]}],[{"start":{"row":23,"column":11},"end":{"row":23,"column":12},"action":"insert","lines":["r"],"id":1724},{"start":{"row":23,"column":12},"end":{"row":23,"column":13},"action":"insert","lines":["e"]},{"start":{"row":23,"column":13},"end":{"row":23,"column":14},"action":"insert","lines":["s"]},{"start":{"row":23,"column":14},"end":{"row":23,"column":15},"action":"insert","lines":["="]}],[{"start":{"row":23,"column":15},"end":{"row":23,"column":39},"action":"insert","lines":["mongo.db.counties.find()"],"id":1725}],[{"start":{"row":23,"column":24},"end":{"row":23,"column":32},"action":"remove","lines":["counties"],"id":1726},{"start":{"row":23,"column":24},"end":{"row":23,"column":25},"action":"insert","lines":["g"]},{"start":{"row":23,"column":25},"end":{"row":23,"column":26},"action":"insert","lines":["e"]},{"start":{"row":23,"column":26},"end":{"row":23,"column":27},"action":"insert","lines":["n"]},{"start":{"row":23,"column":27},"end":{"row":23,"column":28},"action":"insert","lines":["r"]},{"start":{"row":23,"column":28},"end":{"row":23,"column":29},"action":"insert","lines":["e"]},{"start":{"row":23,"column":29},"end":{"row":23,"column":30},"action":"insert","lines":["s"]}],[{"start":{"row":23,"column":37},"end":{"row":23,"column":38},"action":"insert","lines":[","],"id":1727}],[{"start":{"row":27,"column":41},"end":{"row":27,"column":42},"action":"insert","lines":[","],"id":1728}],[{"start":{"row":27,"column":42},"end":{"row":28,"column":0},"action":"insert","lines":["",""],"id":1729},{"start":{"row":28,"column":0},"end":{"row":28,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":28,"column":8},"end":{"row":28,"column":38},"action":"insert","lines":["genres=mongo.db.genres.find(),"],"id":1730}],[{"start":{"row":28,"column":37},"end":{"row":28,"column":38},"action":"remove","lines":[","],"id":1731}],[{"start":{"row":31,"column":16},"end":{"row":32,"column":0},"action":"insert","lines":["",""],"id":1732},{"start":{"row":32,"column":0},"end":{"row":32,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":32,"column":4},"end":{"row":33,"column":22},"action":"insert","lines":["user_logged_in = 'username' in session","    if user_logged_in:"],"id":1733}],[{"start":{"row":34,"column":4},"end":{"row":34,"column":8},"action":"insert","lines":["    "],"id":1734}],[{"start":{"row":35,"column":4},"end":{"row":35,"column":8},"action":"insert","lines":["    "],"id":1735}],[{"start":{"row":36,"column":4},"end":{"row":36,"column":8},"action":"insert","lines":["    "],"id":1736}],[{"start":{"row":36,"column":42},"end":{"row":37,"column":0},"action":"insert","lines":["",""],"id":1737},{"start":{"row":37,"column":0},"end":{"row":37,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":37,"column":4},"end":{"row":37,"column":8},"action":"remove","lines":["    "],"id":1738}],[{"start":{"row":37,"column":4},"end":{"row":39,"column":42},"action":"insert","lines":["return render_template(\"users.html\",","        users=mongo.db.users.find(),","        counties=mongo.db.counties.find())"],"id":1739}],[{"start":{"row":36,"column":41},"end":{"row":36,"column":42},"action":"insert","lines":[","],"id":1740}],[{"start":{"row":36,"column":42},"end":{"row":37,"column":0},"action":"insert","lines":["",""],"id":1741},{"start":{"row":37,"column":0},"end":{"row":37,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":37,"column":8},"end":{"row":37,"column":9},"action":"remove","lines":[")"],"id":1742},{"start":{"row":37,"column":8},"end":{"row":37,"column":37},"action":"insert","lines":["username=session['username'])"]}],[{"start":{"row":116,"column":0},"end":{"row":117,"column":0},"action":"insert","lines":["",""],"id":1743},{"start":{"row":117,"column":0},"end":{"row":118,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":117,"column":0},"end":{"row":117,"column":38},"action":"insert","lines":["@app.route('/login', methods=['POST'])"],"id":1744}],[{"start":{"row":117,"column":17},"end":{"row":117,"column":18},"action":"remove","lines":["n"],"id":1745},{"start":{"row":117,"column":16},"end":{"row":117,"column":17},"action":"remove","lines":["i"]}],[{"start":{"row":117,"column":16},"end":{"row":117,"column":17},"action":"insert","lines":["o"],"id":1746},{"start":{"row":117,"column":17},"end":{"row":117,"column":18},"action":"insert","lines":["u"]},{"start":{"row":117,"column":18},"end":{"row":117,"column":19},"action":"insert","lines":["t"]}],[{"start":{"row":117,"column":20},"end":{"row":117,"column":38},"action":"remove","lines":[", methods=['POST']"],"id":1747}],[{"start":{"row":117,"column":21},"end":{"row":118,"column":0},"action":"insert","lines":["",""],"id":1748},{"start":{"row":118,"column":0},"end":{"row":118,"column":1},"action":"insert","lines":["d"]},{"start":{"row":118,"column":1},"end":{"row":118,"column":2},"action":"insert","lines":["e"]},{"start":{"row":118,"column":2},"end":{"row":118,"column":3},"action":"insert","lines":["f"]}],[{"start":{"row":118,"column":3},"end":{"row":118,"column":4},"action":"insert","lines":[" "],"id":1749},{"start":{"row":118,"column":4},"end":{"row":118,"column":5},"action":"insert","lines":["l"]},{"start":{"row":118,"column":5},"end":{"row":118,"column":6},"action":"insert","lines":["o"]},{"start":{"row":118,"column":6},"end":{"row":118,"column":7},"action":"insert","lines":["g"]},{"start":{"row":118,"column":7},"end":{"row":118,"column":8},"action":"insert","lines":["o"]},{"start":{"row":118,"column":8},"end":{"row":118,"column":9},"action":"insert","lines":["u"]},{"start":{"row":118,"column":9},"end":{"row":118,"column":10},"action":"insert","lines":["t"]}],[{"start":{"row":118,"column":10},"end":{"row":118,"column":12},"action":"insert","lines":["()"],"id":1750}],[{"start":{"row":118,"column":12},"end":{"row":118,"column":13},"action":"insert","lines":[":"],"id":1751}],[{"start":{"row":118,"column":13},"end":{"row":119,"column":0},"action":"insert","lines":["",""],"id":1752},{"start":{"row":119,"column":0},"end":{"row":119,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":119,"column":4},"end":{"row":119,"column":5},"action":"insert","lines":["s"],"id":1753},{"start":{"row":119,"column":5},"end":{"row":119,"column":6},"action":"insert","lines":["e"]},{"start":{"row":119,"column":6},"end":{"row":119,"column":7},"action":"insert","lines":["s"]},{"start":{"row":119,"column":7},"end":{"row":119,"column":8},"action":"insert","lines":["s"]}],[{"start":{"row":119,"column":4},"end":{"row":119,"column":8},"action":"remove","lines":["sess"],"id":1754},{"start":{"row":119,"column":4},"end":{"row":119,"column":11},"action":"insert","lines":["session"]}],[{"start":{"row":119,"column":11},"end":{"row":119,"column":12},"action":"insert","lines":["."],"id":1755},{"start":{"row":119,"column":12},"end":{"row":119,"column":13},"action":"insert","lines":["c"]},{"start":{"row":119,"column":13},"end":{"row":119,"column":14},"action":"insert","lines":["l"]},{"start":{"row":119,"column":14},"end":{"row":119,"column":15},"action":"insert","lines":["e"]},{"start":{"row":119,"column":15},"end":{"row":119,"column":16},"action":"insert","lines":["a"]},{"start":{"row":119,"column":16},"end":{"row":119,"column":17},"action":"insert","lines":["r"]}],[{"start":{"row":119,"column":17},"end":{"row":119,"column":19},"action":"insert","lines":["()"],"id":1756}],[{"start":{"row":119,"column":19},"end":{"row":120,"column":0},"action":"insert","lines":["",""],"id":1757},{"start":{"row":120,"column":0},"end":{"row":120,"column":4},"action":"insert","lines":["    "]},{"start":{"row":120,"column":4},"end":{"row":120,"column":5},"action":"insert","lines":["r"]},{"start":{"row":120,"column":5},"end":{"row":120,"column":6},"action":"insert","lines":["e"]},{"start":{"row":120,"column":6},"end":{"row":120,"column":7},"action":"insert","lines":["t"]},{"start":{"row":120,"column":7},"end":{"row":120,"column":8},"action":"insert","lines":["u"]}],[{"start":{"row":120,"column":8},"end":{"row":120,"column":9},"action":"insert","lines":["r"],"id":1758},{"start":{"row":120,"column":9},"end":{"row":120,"column":10},"action":"insert","lines":["n"]}],[{"start":{"row":120,"column":10},"end":{"row":120,"column":11},"action":"insert","lines":[" "],"id":1759}],[{"start":{"row":120,"column":11},"end":{"row":120,"column":13},"action":"insert","lines":["()"],"id":1760}],[{"start":{"row":120,"column":12},"end":{"row":120,"column":13},"action":"insert","lines":["l"],"id":1761},{"start":{"row":120,"column":13},"end":{"row":120,"column":14},"action":"insert","lines":["o"]},{"start":{"row":120,"column":14},"end":{"row":120,"column":15},"action":"insert","lines":["g"]},{"start":{"row":120,"column":15},"end":{"row":120,"column":16},"action":"insert","lines":["o"]},{"start":{"row":120,"column":16},"end":{"row":120,"column":17},"action":"insert","lines":["u"]},{"start":{"row":120,"column":17},"end":{"row":120,"column":18},"action":"insert","lines":["t"]},{"start":{"row":120,"column":18},"end":{"row":120,"column":19},"action":"insert","lines":["."]},{"start":{"row":120,"column":19},"end":{"row":120,"column":20},"action":"insert","lines":["h"]},{"start":{"row":120,"column":20},"end":{"row":120,"column":21},"action":"insert","lines":["t"]},{"start":{"row":120,"column":21},"end":{"row":120,"column":22},"action":"insert","lines":["m"]},{"start":{"row":120,"column":22},"end":{"row":120,"column":23},"action":"insert","lines":["l"]}],[{"start":{"row":120,"column":11},"end":{"row":120,"column":12},"action":"insert","lines":["r"],"id":1762},{"start":{"row":120,"column":12},"end":{"row":120,"column":13},"action":"insert","lines":["e"]},{"start":{"row":120,"column":13},"end":{"row":120,"column":14},"action":"insert","lines":["d"]}],[{"start":{"row":120,"column":13},"end":{"row":120,"column":14},"action":"remove","lines":["d"],"id":1763}],[{"start":{"row":120,"column":11},"end":{"row":120,"column":13},"action":"remove","lines":["re"],"id":1764},{"start":{"row":120,"column":11},"end":{"row":120,"column":26},"action":"insert","lines":["render_template"]}],[{"start":{"row":120,"column":27},"end":{"row":120,"column":28},"action":"insert","lines":[";"],"id":1765}],[{"start":{"row":120,"column":27},"end":{"row":120,"column":28},"action":"remove","lines":[";"],"id":1766}],[{"start":{"row":120,"column":27},"end":{"row":120,"column":28},"action":"insert","lines":["'"],"id":1767}],[{"start":{"row":120,"column":39},"end":{"row":120,"column":40},"action":"insert","lines":["'"],"id":1768}],[{"start":{"row":90,"column":21},"end":{"row":91,"column":0},"action":"insert","lines":["",""],"id":1769},{"start":{"row":91,"column":0},"end":{"row":92,"column":0},"action":"insert","lines":["",""]},{"start":{"row":92,"column":0},"end":{"row":92,"column":1},"action":"insert","lines":["u"]},{"start":{"row":92,"column":1},"end":{"row":92,"column":2},"action":"insert","lines":["s"]}],[{"start":{"row":92,"column":2},"end":{"row":92,"column":3},"action":"insert","lines":["e"],"id":1770},{"start":{"row":92,"column":3},"end":{"row":92,"column":4},"action":"insert","lines":["r"]},{"start":{"row":92,"column":4},"end":{"row":92,"column":5},"action":"insert","lines":["_"]},{"start":{"row":92,"column":5},"end":{"row":92,"column":6},"action":"insert","lines":["l"]},{"start":{"row":92,"column":6},"end":{"row":92,"column":7},"action":"insert","lines":["o"]},{"start":{"row":92,"column":7},"end":{"row":92,"column":8},"action":"insert","lines":["g"]},{"start":{"row":92,"column":8},"end":{"row":92,"column":9},"action":"insert","lines":["g"]},{"start":{"row":92,"column":9},"end":{"row":92,"column":10},"action":"insert","lines":["e"]},{"start":{"row":92,"column":10},"end":{"row":92,"column":11},"action":"insert","lines":["d"]}],[{"start":{"row":92,"column":0},"end":{"row":92,"column":11},"action":"remove","lines":["user_logged"],"id":1771},{"start":{"row":92,"column":0},"end":{"row":92,"column":14},"action":"insert","lines":["user_logged_in"]}],[{"start":{"row":92,"column":14},"end":{"row":92,"column":15},"action":"insert","lines":[" "],"id":1772},{"start":{"row":92,"column":15},"end":{"row":92,"column":16},"action":"insert","lines":["="]}],[{"start":{"row":92,"column":16},"end":{"row":92,"column":17},"action":"insert","lines":[" "],"id":1773}],[{"start":{"row":92,"column":0},"end":{"row":92,"column":17},"action":"remove","lines":["user_logged_in = "],"id":1774},{"start":{"row":92,"column":0},"end":{"row":92,"column":38},"action":"insert","lines":["user_logged_in = 'username' in session"]}],[{"start":{"row":92,"column":0},"end":{"row":92,"column":38},"action":"remove","lines":["user_logged_in = 'username' in session"],"id":1775},{"start":{"row":91,"column":0},"end":{"row":92,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":91,"column":0},"end":{"row":92,"column":0},"action":"remove","lines":["",""],"id":1776}],[{"start":{"row":101,"column":73},"end":{"row":101,"column":74},"action":"remove","lines":[" "],"id":1782},{"start":{"row":101,"column":72},"end":{"row":101,"column":73},"action":"remove","lines":[","]}],[{"start":{"row":101,"column":73},"end":{"row":101,"column":74},"action":"insert","lines":[" "],"id":1782}],[{"start":{"row":101,"column":72},"end":{"row":101,"column":73},"action":"insert","lines":[","],"id":1783}],[{"start":{"row":99,"column":4},"end":{"row":99,"column":42},"action":"insert","lines":["user_logged_in = 'username' in session"],"id":1784}],[{"start":{"row":98,"column":26},"end":{"row":99,"column":0},"action":"insert","lines":["",""],"id":1785},{"start":{"row":99,"column":0},"end":{"row":99,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":100,"column":32},"end":{"row":100,"column":39},"action":"remove","lines":["welcome"],"id":1786},{"start":{"row":100,"column":32},"end":{"row":100,"column":33},"action":"insert","lines":["j"]},{"start":{"row":100,"column":33},"end":{"row":100,"column":34},"action":"insert","lines":["a"]},{"start":{"row":100,"column":34},"end":{"row":100,"column":35},"action":"insert","lines":["m"]},{"start":{"row":100,"column":35},"end":{"row":100,"column":36},"action":"insert","lines":["s"]}]]},"ace":{"folds":[],"scrolltop":142.5,"scrollleft":0,"selection":{"start":{"row":22,"column":39},"end":{"row":22,"column":39},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1563967650422}